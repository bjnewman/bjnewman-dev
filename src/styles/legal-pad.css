/* =============================================================================
   Legal Pad Theme

   Transforms the page content area into a legal pad aesthetic with:
   - Yellow paper background
   - Blue horizontal ruled lines
   - Red margin line
   - Handwritten-style link underlines
============================================================================= */

/* =============================================================================
   CSS Custom Properties
============================================================================= */
:root {
  /* Legal pad yellow - warm, authentic */
  --lp-yellow: oklch(95% 0.08 95);
  --lp-yellow-light: oklch(97% 0.06 95);
  --lp-yellow-dark: oklch(90% 0.10 95);

  /* Ruled lines */
  --lp-rule-blue: oklch(75% 0.12 250);
  --lp-rule-red: oklch(65% 0.18 25);

  /* Ink colors */
  --lp-ink: oklch(25% 0.02 250);
  --lp-ink-light: oklch(40% 0.02 250);
  --lp-ink-blue: oklch(45% 0.18 250);

  /* Spacing */
  --lp-line-height: 1.75rem;
  --lp-margin-width: 4rem;
  /* Baseline offset - how far from top of line-height the baseline sits (typically ~80% for most fonts) */
  --lp-baseline-offset: 0.25rem;

  /* Shadows */
  --lp-shadow: oklch(30% 0.05 80 / 0.15);
}

/* =============================================================================
   Page Content - Legal Pad Paper
============================================================================= */
.page-content {
  /* Yellow paper background */
  background-color: var(--lp-yellow);

  /* Ruled lines using gradients */
  background-image:
    /* Red margin line */
    linear-gradient(
      to right,
      transparent 0,
      transparent calc(var(--lp-margin-width) - 1px),
      var(--lp-rule-red) calc(var(--lp-margin-width) - 1px),
      var(--lp-rule-red) var(--lp-margin-width),
      transparent var(--lp-margin-width)
    ),
    /* Blue horizontal rules */
    repeating-linear-gradient(
      to bottom,
      transparent 0,
      transparent calc(var(--lp-line-height) - 1px),
      var(--lp-rule-blue) calc(var(--lp-line-height) - 1px),
      var(--lp-rule-blue) var(--lp-line-height)
    );

  /* Lines scroll with content */
  background-attachment: local;
  /* Offset the lines so they align with text baselines, not through the middle of text */
  background-position: 0 var(--lp-baseline-offset);

  /* Paper depth and shadow */
  box-shadow:
    inset 0 0 0 1px oklch(80% 0.06 80),
    0 4px 20px var(--lp-shadow),
    0 8px 40px var(--lp-shadow);

  /* Connect to tabs above */
  margin-block-start: 0;
  border-radius: 0 0 0.5rem 0.5rem;

  /* Padding aligned with ruled lines */
  padding-block: var(--lp-line-height);
  padding-inline-start: calc(var(--lp-margin-width) + 1.5rem);
  padding-inline-end: 2rem;

  /* Minimum height for visual consistency */
  min-height: calc(100vh - 8rem);

  /* Performance */
  contain: layout style;
}

/* =============================================================================
   Typography on Legal Pad
============================================================================= */
.page-content h1,
.page-content h2,
.page-content h3,
.page-content h4,
.page-content h5,
.page-content h6 {
  color: var(--lp-ink);
  /* Align to line grid */
  line-height: var(--lp-line-height);
  margin-block: var(--lp-line-height);
}

.page-content h1 {
  font-size: 2rem;
  line-height: calc(var(--lp-line-height) * 2);
  margin-block-end: calc(var(--lp-line-height) * 0.5);
}

.page-content h2 {
  font-size: 1.5rem;
  margin-block-start: calc(var(--lp-line-height) * 1.5);
}

.page-content p,
.page-content li,
.page-content dd {
  color: var(--lp-ink);
  line-height: var(--lp-line-height);
  margin-block: calc(var(--lp-line-height) * 0.5);
}

/* Links - blue pen, wavy underline */
.page-content a:not(.nav-link) {
  color: var(--lp-ink-blue);
  text-decoration: underline;
  text-decoration-style: wavy;
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
  transition: color 0.2s ease;
}

.page-content a:not(.nav-link):hover {
  color: oklch(35% 0.22 250);
}

/* Code blocks - slightly darker paper */
.page-content pre,
.page-content code {
  background-color: var(--lp-yellow-dark);
  border: 1px solid oklch(80% 0.08 95);
  border-radius: 4px;
}

.page-content pre {
  padding: var(--lp-line-height);
  margin-block: var(--lp-line-height);
  overflow-x: auto;
}

.page-content code {
  padding: 0.1em 0.3em;
  font-size: 0.9em;
}

.page-content pre code {
  padding: 0;
  border: none;
  background: transparent;
}

/* Blockquotes - indented from margin */
.page-content blockquote {
  border-inline-start: 3px solid var(--lp-rule-red);
  margin-inline-start: 0;
  padding-inline-start: 1rem;
  color: var(--lp-ink-light);
  font-style: italic;
}

/* Horizontal rules - match the blue lines */
.page-content hr {
  border: none;
  border-top: 2px solid var(--lp-rule-blue);
  margin-block: calc(var(--lp-line-height) * 2);
}

/* Lists */
.page-content ul,
.page-content ol {
  padding-inline-start: 1.5rem;
}

.page-content li::marker {
  color: var(--lp-ink-light);
}

/* =============================================================================
   Site Footer - Bottom of Legal Pad
============================================================================= */
.site-footer {
  background-color: var(--lp-yellow-dark);
  color: var(--lp-ink-light);
  text-align: center;
  padding: var(--lp-line-height) 2rem calc(var(--lp-line-height) * 1.5);

  /* Continue ruled lines */
  background-image:
    repeating-linear-gradient(
      to bottom,
      transparent 0,
      transparent calc(var(--lp-line-height) - 1px),
      var(--lp-rule-blue) calc(var(--lp-line-height) - 1px),
      var(--lp-rule-blue) var(--lp-line-height)
    );
  background-attachment: local;
  background-position: 0 var(--lp-baseline-offset);

  /* Top border - edge of pad */
  border-block-start: 2px solid oklch(75% 0.08 80);

  /* Match content area width */
  border-radius: 0 0 0.5rem 0.5rem;
  margin-block-start: 0;

  /* Performance */
  contain: layout style;
}

.site-footer a {
  color: var(--lp-ink-blue);
  text-decoration: underline;
  text-decoration-style: wavy;
  text-decoration-thickness: 1px;
}

.site-footer a:hover {
  color: oklch(35% 0.22 250);
}

.site-footer .social-links {
  display: flex;
  justify-content: center;
  gap: 1.5rem;
  flex-wrap: wrap;
  margin-block-end: var(--lp-line-height);
}

.site-footer p {
  color: var(--lp-ink-light);
  margin-block: calc(var(--lp-line-height) * 0.5);
  line-height: var(--lp-line-height);
}

.site-footer .disclaimer {
  font-size: 0.85rem;
  color: oklch(50% 0.02 250);
}

/* =============================================================================
   Body Background - Desk/Surface
============================================================================= */
body {
  /* Muted surface behind the legal pad */
  background: linear-gradient(
    180deg,
    oklch(92% 0.02 80) 0%,
    oklch(88% 0.03 80) 100%
  );
  background-attachment: fixed;
}

/* =============================================================================
   Responsive Adjustments
============================================================================= */
@media (max-width: 768px) {
  :root {
    --lp-margin-width: 2.5rem;
    --lp-line-height: 1.5rem;
  }

  .page-content {
    padding-inline-start: calc(var(--lp-margin-width) + 1rem);
    padding-inline-end: 1rem;
    border-radius: 0;
  }

  .site-footer {
    padding-inline: 1rem;
    border-radius: 0;
  }
}

@media (max-width: 480px) {
  :root {
    --lp-margin-width: 1.5rem;
  }

  .page-content {
    padding-inline-start: calc(var(--lp-margin-width) + 0.75rem);
    padding-inline-end: 0.75rem;
  }

  .page-content h1 {
    font-size: 1.5rem;
    line-height: calc(var(--lp-line-height) * 1.5);
  }
}

/* =============================================================================
   Theme Toggle Position
============================================================================= */
.site-header .theme-toggle-button {
  position: absolute;
  inset-inline-end: 1rem;
  inset-block-start: 50%;
  transform: translateY(-50%);
}

/* When header doesn't use position: relative, add it */
.site-header {
  position: relative;
}
